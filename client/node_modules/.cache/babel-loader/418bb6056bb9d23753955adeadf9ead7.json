{"ast":null,"code":"import _objectSpread from\"C:/Users/jamie/Documents/Projects/COVID-Booking/COVID-Booking/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/jamie/Documents/Projects/COVID-Booking/COVID-Booking/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";/*\r\n    FormRegister component adapted from: https://github.com/mui-org/material-ui/tree/master/docs/src/pages/getting-started/templates/sign-up\r\n */import React,{useState}from'react';import Avatar from'@material-ui/core/Avatar';import Button from'@material-ui/core/Button';import CssBaseline from'@material-ui/core/CssBaseline';import TextField from'@material-ui/core/TextField';import FormLabel from'@material-ui/core/FormLabel';import Link from'@material-ui/core/Link';import Grid from'@material-ui/core/Grid';import LockOutlinedIcon from'@material-ui/icons/LockOutlined';import Typography from'@material-ui/core/Typography';import Container from'@material-ui/core/Container';import DateFnsUtils from'@date-io/date-fns';import'date-fns';import{makeStyles}from'@material-ui/core/styles';import{MuiPickersUtilsProvider,KeyboardDatePicker}from'@material-ui/pickers';import{useForm,Controller}from'react-hook-form';// 3rd party library for handling forms\nimport{yupResolver}from'@hookform/resolvers/yup';import*as Yup from'yup';import{registerUser}from'../../actions/Authenticate';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{paper:{marginTop:theme.spacing(5),display:'flex',flexDirection:'column',alignItems:'center'},avatar:{margin:theme.spacing(1),backgroundColor:theme.palette.secondary.main},form:{width:'100%',// Fix IE 11 issue.\nmarginTop:theme.spacing(3),marginBottom:theme.spacing(5)},submit:{margin:theme.spacing(3,0,2)}};});// Form validation Schema\nvar validationSchema=Yup.object().shape({firstName:Yup.string().required('First name is required'),lastName:Yup.string().required('Last name is required'),email:Yup.string().required('Email is required').email('Email is invalid'),password:Yup.string().required('Password is required').min(6,'Password must be at least 6 characters in length').max(50,'Password must not exceed 50 characters in length'),firstDose:Yup.date().notRequired(),secondDose:Yup.date().notRequired()});export default function SignUp(){var classes=useStyles();// Hook for authentication\n// From react-hook-form library\nvar _useForm=useForm({resolver:yupResolver(validationSchema)}),handleSubmit=_useForm.handleSubmit,control=_useForm.control,setValue=_useForm.setValue;var onSubmit=function onSubmit(data){alert(JSON.stringify(data));// Remove this later\n// Call method that sends data to the BE\nregisterUser(data);// Do some error handling -- What if the response code isn't 200\n};var _useState=useState(null),_useState2=_slicedToArray(_useState,2),selectedFirstDoseDate=_useState2[0],setSelectedFirstDoseDate=_useState2[1];var _useState3=useState(null),_useState4=_slicedToArray(_useState3,2),selectedSecondDoseDate=_useState4[0],setSelectedSecondDoseDate=_useState4[1];var handleFirstDoseDateChange=function handleFirstDoseDateChange(date){setSelectedFirstDoseDate(date);setValue('firstDose',date,{shouldValidate:true,shouldDirty:true});};var handleSecondDoseDateChange=function handleSecondDoseDateChange(date){setSelectedSecondDoseDate(date);setValue('secondDose',date,{shouldValidate:true,shouldDirty:true});};return/*#__PURE__*/_jsxs(Container,{component:\"main\",maxWidth:\"xs\",children:[/*#__PURE__*/_jsx(CssBaseline,{}),/*#__PURE__*/_jsxs(\"div\",{className:classes.paper,children:[/*#__PURE__*/_jsx(Avatar,{className:classes.avatar,children:/*#__PURE__*/_jsx(LockOutlinedIcon,{})}),/*#__PURE__*/_jsx(Typography,{component:\"h1\",variant:\"h5\",children:\"Sign up\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit(onSubmit),className:classes.form,noValidate:true,children:[/*#__PURE__*/_jsxs(Grid,{container:true,spacing:2,children:[/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(Controller,{control:control,name:\"firstName\",defaultValue:\"\",render:function render(_ref){var field=_ref.field,error=_ref.fieldState.error;return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},field),{},{autoComplete:\"fname\",name:\"firstName\",variant:\"outlined\",required:true,fullWidth:true,id:\"firstName\",label:\"First Name\",autoFocus:true,error:!!error,helperText:error?error.message:null}));}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(Controller,{control:control,name:\"lastName\",defaultValue:\"\",render:function render(_ref2){var field=_ref2.field,error=_ref2.fieldState.error;return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},field),{},{autoComplete:\"lname\",name:\"lastName\",variant:\"outlined\",required:true,fullWidth:true,id:\"lastName\",label:\"Last Name\",autoFocus:true,error:!!error,helperText:error?error.message:null}));}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Controller,{control:control,name:\"email\",defaultValue:\"\",render:function render(_ref3){var field=_ref3.field,error=_ref3.fieldState.error;return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},field),{},{variant:\"outlined\",margin:\"normal\",required:true,fullWidth:true,id:\"email\",label:\"Email Address\",name:\"email\",autoComplete:\"email\",autoFocus:true,error:!!error,helperText:error?error.message:null}));}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(Controller,{control:control,name:\"password\",defaultValue:\"\",render:function render(_ref4){var field=_ref4.field,error=_ref4.fieldState.error;return/*#__PURE__*/_jsx(TextField,_objectSpread(_objectSpread({},field),{},{autoComplete:\"current-password\",name:\"password\",variant:\"outlined\",required:true,fullWidth:true,id:\"password\",type:\"password\",label:\"Password\",autoFocus:true,error:!!error,helperText:error?error.message:null}));}})}),/*#__PURE__*/_jsx(Grid,{item:true,xs:12,children:/*#__PURE__*/_jsx(FormLabel,{children:\" Please select the date you received your vaccination dose(s) below. Omit if you haven't been vaccinated.\"})}),/*#__PURE__*/_jsx(MuiPickersUtilsProvider,{utils:DateFnsUtils,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(KeyboardDatePicker,{disableToolbar:true,variant:\"inline\",format:\"MM/dd/yyyy\",margin:\"normal\",id:\"firstDose\",emptyLabel:\"Dose 1 Date\",value:selectedFirstDoseDate,onChange:handleFirstDoseDateChange,disableFuture:\"true\",KeyboardButtonProps:{'aria-label':'change date'}})})}),/*#__PURE__*/_jsx(MuiPickersUtilsProvider,{utils:DateFnsUtils,children:/*#__PURE__*/_jsx(Grid,{item:true,xs:12,sm:6,children:/*#__PURE__*/_jsx(KeyboardDatePicker,{disableToolbar:true,variant:\"inline\",format:\"MM/dd/yyyy\",margin:\"normal\",id:\"secondDose\",emptyLabel:\"Dose 2 Date\",value:selectedSecondDoseDate,onChange:handleSecondDoseDateChange,disableFuture:\"true\",KeyboardButtonProps:{'aria-label':'change date'}})})})]}),/*#__PURE__*/_jsx(Button,{type:\"submit\",fullWidth:true,variant:\"contained\",color:\"primary\",className:classes.submit,children:\"Sign Up\"}),/*#__PURE__*/_jsx(Grid,{container:true,justifyContent:\"center\",children:/*#__PURE__*/_jsx(Grid,{item:true,children:/*#__PURE__*/_jsx(Link,{href:\"/user/login\",variant:\"body2\",children:\"Already have an account? Sign in\"})})})]})]})]});}","map":{"version":3,"sources":["C:/Users/jamie/Documents/Projects/COVID-Booking/COVID-Booking/client/src/components/Form/FormRegister.js"],"names":["React","useState","Avatar","Button","CssBaseline","TextField","FormLabel","Link","Grid","LockOutlinedIcon","Typography","Container","DateFnsUtils","makeStyles","MuiPickersUtilsProvider","KeyboardDatePicker","useForm","Controller","yupResolver","Yup","registerUser","useStyles","theme","paper","marginTop","spacing","display","flexDirection","alignItems","avatar","margin","backgroundColor","palette","secondary","main","form","width","marginBottom","submit","validationSchema","object","shape","firstName","string","required","lastName","email","password","min","max","firstDose","date","notRequired","secondDose","SignUp","classes","resolver","handleSubmit","control","setValue","onSubmit","data","alert","JSON","stringify","selectedFirstDoseDate","setSelectedFirstDoseDate","selectedSecondDoseDate","setSelectedSecondDoseDate","handleFirstDoseDateChange","shouldValidate","shouldDirty","handleSecondDoseDateChange","field","error","fieldState","message"],"mappings":"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","sourcesContent":["/*\r\n    FormRegister component adapted from: https://github.com/mui-org/material-ui/tree/master/docs/src/pages/getting-started/templates/sign-up\r\n */\r\nimport React, {useState} from 'react'\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Button from '@material-ui/core/Button';\r\nimport CssBaseline from '@material-ui/core/CssBaseline';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport FormLabel from '@material-ui/core/FormLabel'\r\nimport Link from '@material-ui/core/Link';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport Container from '@material-ui/core/Container';\r\nimport DateFnsUtils from '@date-io/date-fns';\r\nimport 'date-fns';\r\n\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {  MuiPickersUtilsProvider, KeyboardDatePicker } from '@material-ui/pickers';\r\nimport { useForm, Controller } from 'react-hook-form';    // 3rd party library for handling forms\r\nimport { yupResolver } from '@hookform/resolvers/yup';\r\nimport * as Yup from 'yup';\r\nimport {registerUser} from '../../actions/Authenticate'\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    paper: {\r\n      marginTop: theme.spacing(5),\r\n      display: 'flex',\r\n      flexDirection: 'column',\r\n      alignItems: 'center',\r\n    },\r\n    avatar: {\r\n      margin: theme.spacing(1),\r\n      backgroundColor: theme.palette.secondary.main,\r\n    },\r\n    form: {\r\n      width: '100%', // Fix IE 11 issue.\r\n      marginTop: theme.spacing(3),\r\n      marginBottom: theme.spacing(5)\r\n    },\r\n    submit: {\r\n      margin: theme.spacing(3, 0, 2),\r\n    },\r\n  }));\r\n\r\n  // Form validation Schema\r\n  const validationSchema = Yup.object().shape(\r\n    {\r\n      firstName: Yup.string().required('First name is required'),\r\n      lastName: Yup.string().required('Last name is required'),\r\n      email: Yup.string().required('Email is required')\r\n                         .email('Email is invalid'),\r\n      password: Yup.string().required('Password is required')\r\n                            .min(6, 'Password must be at least 6 characters in length')\r\n                            .max(50, 'Password must not exceed 50 characters in length'),\r\n      firstDose: Yup.date().notRequired(),\r\n      secondDose: Yup.date().notRequired()\r\n    }\r\n  );\r\n\r\n  \r\n  export default function SignUp() {\r\n    const classes = useStyles();\r\n    // Hook for authentication\r\n\r\n    // From react-hook-form library\r\n    const { handleSubmit, control, setValue } = useForm({resolver: yupResolver(validationSchema)});\r\n\r\n    const onSubmit = data => {\r\n      alert(JSON.stringify(data));    // Remove this later\r\n      // Call method that sends data to the BE\r\n      registerUser(data);       // Do some error handling -- What if the response code isn't 200\r\n\r\n    };\r\n\r\n    \r\n    const [selectedFirstDoseDate, setSelectedFirstDoseDate] = useState(null);\r\n    const [selectedSecondDoseDate, setSelectedSecondDoseDate] = useState(null);\r\n\r\n    const handleFirstDoseDateChange = (date) => {\r\n      setSelectedFirstDoseDate(date);\r\n      setValue('firstDose', date, {shouldValidate: true, shouldDirty: true})\r\n    };\r\n\r\n    const handleSecondDoseDateChange = (date) => {\r\n      setSelectedSecondDoseDate(date);\r\n      setValue('secondDose', date, {shouldValidate: true, shouldDirty: true})\r\n    };\r\n\r\n    return (\r\n      <Container component=\"main\" maxWidth=\"xs\">\r\n        <CssBaseline />\r\n        <div className={classes.paper}>\r\n          <Avatar className={classes.avatar}>\r\n            <LockOutlinedIcon />\r\n          </Avatar>\r\n          <Typography component=\"h1\" variant=\"h5\">\r\n            Sign up\r\n          </Typography>\r\n          <form onSubmit={handleSubmit(onSubmit)} className={classes.form} noValidate >\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} sm={6}>\r\n                <Controller \r\n                  control={control}\r\n                  name=\"firstName\"\r\n                  defaultValue=\"\"\r\n                  render={({ field, fieldState: { error } }) => (\r\n                    <TextField\r\n                      {...field}\r\n                      autoComplete=\"fname\"\r\n                      name=\"firstName\"\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"firstName\"\r\n                      label=\"First Name\"\r\n                      autoFocus\r\n                      error={!!error}\r\n                      helperText={error ? error.message : null}\r\n                    />\r\n                  )}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} sm={6}>\r\n                 <Controller \r\n                  control={control}\r\n                  name=\"lastName\"\r\n                  defaultValue=\"\"\r\n                  render={({ field, fieldState: { error } }) => (\r\n                    <TextField\r\n                      {...field}\r\n                      autoComplete=\"lname\"\r\n                      name=\"lastName\"\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"lastName\"\r\n                      label=\"Last Name\"\r\n                      autoFocus\r\n                      error={!!error}\r\n                      helperText={error ? error.message : null}\r\n                    />\r\n                  )}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <Controller \r\n                  control={control}\r\n                  name=\"email\"\r\n                  defaultValue=\"\"\r\n                  render={({ field, fieldState: { error } }) => (\r\n                    <TextField\r\n                      {...field}\r\n                      variant=\"outlined\"\r\n                      margin=\"normal\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"email\"\r\n                      label=\"Email Address\"\r\n                      name=\"email\"\r\n                      autoComplete=\"email\"\r\n                      autoFocus\r\n                      error={!!error}\r\n                      helperText={error ? error.message : null}\r\n                    />\r\n                  )}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <Controller \r\n                  control={control}\r\n                  name=\"password\"\r\n                  defaultValue=\"\"\r\n                  render={({ field, fieldState: { error } }) => (\r\n                    <TextField\r\n                      {...field}\r\n                      autoComplete=\"current-password\"\r\n                      name=\"password\"\r\n                      variant=\"outlined\"\r\n                      required\r\n                      fullWidth\r\n                      id=\"password\"\r\n                      type=\"password\"\r\n                      label=\"Password\"\r\n                      autoFocus\r\n                      error={!!error}\r\n                      helperText={error ? error.message : null}\r\n                    />\r\n                  )}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <FormLabel> Please select the date you received your vaccination dose(s) below. Omit if you haven't been vaccinated.</FormLabel>\r\n              </Grid>\r\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <KeyboardDatePicker\r\n                    disableToolbar\r\n                    variant=\"inline\"\r\n                    format=\"MM/dd/yyyy\"\r\n                    margin=\"normal\"\r\n                    id=\"firstDose\"\r\n                    emptyLabel=\"Dose 1 Date\"\r\n                    value={selectedFirstDoseDate}\r\n                    onChange={handleFirstDoseDateChange}\r\n                    disableFuture=\"true\"\r\n                    KeyboardButtonProps={{\r\n                      'aria-label': 'change date',\r\n                    }}\r\n                  />\r\n                </Grid>\r\n              </MuiPickersUtilsProvider>\r\n              <MuiPickersUtilsProvider utils={DateFnsUtils}>\r\n                <Grid item xs={12} sm={6}>\r\n                  <KeyboardDatePicker\r\n                    disableToolbar\r\n                    variant=\"inline\"\r\n                    format=\"MM/dd/yyyy\"\r\n                    margin=\"normal\"\r\n                    id=\"secondDose\"\r\n                    emptyLabel=\"Dose 2 Date\"\r\n                    value={selectedSecondDoseDate}\r\n                    onChange={handleSecondDoseDateChange}\r\n                    disableFuture=\"true\"\r\n                    KeyboardButtonProps={{\r\n                      'aria-label': 'change date',\r\n                    }}\r\n                  />\r\n                </Grid>\r\n              </MuiPickersUtilsProvider>\r\n            </Grid>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              className={classes.submit}\r\n            >\r\n              Sign Up\r\n            </Button>\r\n            <Grid container justifyContent=\"center\">\r\n              <Grid item>\r\n                <Link href=\"/user/login\" variant=\"body2\">\r\n                  Already have an account? Sign in\r\n                </Link>\r\n              </Grid>\r\n            </Grid>\r\n          </form>\r\n        </div>\r\n      </Container>\r\n    );\r\n  }\r\n"]},"metadata":{},"sourceType":"module"}