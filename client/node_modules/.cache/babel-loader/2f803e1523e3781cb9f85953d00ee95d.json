{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\jamie\\\\Documents\\\\Projects\\\\COVID-Booking\\\\COVID-Booking\\\\client\\\\src\\\\components\\\\calendar\\\\UserCalendar.js\",\n    _s4 = $RefreshSig$();\n\n/*\r\n    Calendar component adapted from: https://devexpress.github.io/devextreme-reactive/react/scheduler/\r\n */\nimport Paper from '@material-ui/core/Paper';\nimport { ViewState } from '@devexpress/dx-react-scheduler';\nimport { Scheduler, WeekView, Appointments, AppointmentTooltip, DateNavigator, TodayButton, Toolbar } from '@devexpress/dx-react-scheduler-material-ui';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { fade } from '@material-ui/core/styles/colorManipulator';\nimport { useState, useEffect } from \"react\";\nimport './Calendar.css';\nimport IconButton from '@material-ui/core/IconButton';\nimport AddIcon from '@material-ui/icons/Add';\nimport Grid from '@material-ui/core/Grid';\nimport Room from '@material-ui/icons/Room';\nimport { withStyles } from '@material-ui/core/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction UserCalendar() {\n  _s4();\n\n  var _s = $RefreshSig$(),\n      _s2 = $RefreshSig$(),\n      _s3 = $RefreshSig$();\n\n  /* ----------- SERVER FUNCTIONS ----------- */\n  let startingList = [];\n  const [list, setList] = useState(startingList);\n\n  async function callGET() {\n    await fetch(\"http://rec-center-booking/user-cal\").then(res => res.json()).then(data => startingList = data).catch(err => err);\n  } // TODO: implement once route is established\n\n\n  async function callEDIT(id) {\n    await fetch('http://rec-center-booking/user-cal/' + id, {\n      method: 'PATCH',\n      body: JSON.stringify(id),\n      headers: {\n        'Content-Type': 'application/json',\n        'x-Trigger': 'CORS'\n      }\n    }).then(data => console.log('Edited card')).catch(err => err);\n  }\n\n  useEffect(() => {\n    callGET().then(() => setList(startingList)).catch(err => err); // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, []);\n  /* ----------- STYLE AND COMPONENTS ----------- */\n\n  const useStyles = makeStyles(theme => ({\n    // DayScaleCell styling\n    today: {\n      backgroundColor: fade(theme.palette.primary.main, 0.16)\n    },\n    weekend: {\n      backgroundColor: fade(theme.palette.action.disabledBackground, 0.06)\n    },\n    // TimeTableCell styling\n    todayCell: {\n      backgroundColor: fade(theme.palette.primary.main, 0.1),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.primary.main, 0.14)\n      },\n      '&:focus': {\n        backgroundColor: fade(theme.palette.primary.main, 0.16)\n      }\n    },\n    weekendCell: {\n      backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\n      '&:hover': {\n        backgroundColor: fade(theme.palette.action.disabledBackground, 0.04)\n      },\n      '&:focus': {\n        backgroundColor: fade(theme.palette.action.disabledBackground, 0.04)\n      }\n    },\n    // Appointment styling\n    todayApp: {\n      backgroundColor: '#558d60',\n      borderRadius: '8px'\n    }\n  })); // Tooltip styling\n\n  const style = ({\n    palette\n  }) => ({\n    icon: {\n      color: palette.action.active\n    },\n    textCenter: {\n      textAlign: 'center'\n    },\n    headerColor: {\n      backgroundColor: '#558d60'\n    },\n    header: {\n      height: '260px',\n      backgroundSize: 'cover'\n    },\n    commandButton: {\n      backgroundColor: '#96cfa9'\n    }\n  }); // Calendar's top date bar\n\n\n  const DayScaleCell = props => {\n    _s();\n\n    const style = useStyles();\n    const {\n      startDate,\n      today\n    } = props;\n\n    if (today) {\n      return /*#__PURE__*/_jsxDEV(WeekView.DayScaleCell, { ...props,\n        className: style.today\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (startDate.getDay() === 0 || startDate.getDay() === 6) {\n      return /*#__PURE__*/_jsxDEV(WeekView.DayScaleCell, { ...props,\n        className: style.weekend\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(WeekView.DayScaleCell, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 18\n    }, this);\n  }; // Calendar's timeslots\n\n\n  _s(DayScaleCell, \"mZCnhBR0q0OTgm1BnUIehJ8zoUE=\", false, function () {\n    return [useStyles];\n  });\n\n  const TimeTableCell = props => {\n    _s2();\n\n    const style = useStyles();\n    const {\n      startDate\n    } = props;\n    const date = new Date(startDate);\n\n    if (date.getDate() === new Date().getDate()) {\n      return /*#__PURE__*/_jsxDEV(WeekView.TimeTableCell, { ...props,\n        className: style.todayCell\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 20\n      }, this);\n    }\n\n    if (date.getDay() === 0 || date.getDay() === 6) {\n      return /*#__PURE__*/_jsxDEV(WeekView.TimeTableCell, { ...props,\n        className: style.weekendCell\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 20\n      }, this);\n    }\n\n    return /*#__PURE__*/_jsxDEV(WeekView.TimeTableCell, { ...props\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 18\n    }, this);\n  }; // Appointments\n\n\n  _s2(TimeTableCell, \"mZCnhBR0q0OTgm1BnUIehJ8zoUE=\", false, function () {\n    return [useStyles];\n  });\n\n  const Appointment = ({\n    children,\n    style,\n    ...restProps\n  }) => {\n    _s3();\n\n    return /*#__PURE__*/_jsxDEV(Appointments.Appointment, { ...restProps,\n      className: useStyles().todayApp,\n      children: children\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 9\n    }, this);\n  };\n\n  _s3(Appointment, \"LpG94fGMPG7B/LCQ+ela2fKlpdc=\", false, function () {\n    return [useStyles];\n  });\n\n  const Header = withStyles(style, {\n    name: 'Header'\n  })(({\n    children,\n    appointmentData,\n    classes,\n    ...restProps\n  }) => /*#__PURE__*/_jsxDEV(AppointmentTooltip.Header, { ...restProps,\n    className: classes.headerColor,\n    appointmentData: appointmentData,\n    children: /*#__PURE__*/_jsxDEV(IconButton, {\n      onClick: () => callEDIT(appointmentData._id),\n      className: classes.commandButton,\n      children: /*#__PURE__*/_jsxDEV(AddIcon, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 147,\n    columnNumber: 9\n  }, this));\n  const Content = withStyles(style, {\n    name: 'Content'\n  })(({\n    children,\n    appointmentData,\n    classes,\n    ...restProps\n  }) => /*#__PURE__*/_jsxDEV(AppointmentTooltip.Content, { ...restProps,\n    appointmentData: appointmentData,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      alignItems: \"center\",\n      children: [/*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        className: classes.textCenter,\n        children: /*#__PURE__*/_jsxDEV(Room, {\n          className: classes.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 164,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 10,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: appointmentData.location\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        className: classes.textCenter,\n        children: /*#__PURE__*/_jsxDEV(Room, {\n          className: classes.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 10,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: appointmentData.notes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 174,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 2,\n        className: classes.textCenter,\n        children: /*#__PURE__*/_jsxDEV(Room, {\n          className: classes.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 177,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 10,\n        children: /*#__PURE__*/_jsxDEV(\"span\", {\n          children: [\"Max \", appointmentData.maxClassSize, \" people in the class.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 180,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 163,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 162,\n    columnNumber: 9\n  }, this));\n  const CommandButton = withStyles(style, {\n    name: 'CommandButton'\n  })(({\n    classes,\n    ...restProps\n  }) => /*#__PURE__*/_jsxDEV(AppointmentTooltip.CommandButton, { ...restProps,\n    className: classes.commandButton\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 187,\n    columnNumber: 9\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    id: \"main-panel\",\n    children: /*#__PURE__*/_jsxDEV(Paper, {\n      id: \"calendar\",\n      children: /*#__PURE__*/_jsxDEV(Scheduler, {\n        data: list,\n        locale: \"en-US\",\n        children: [/*#__PURE__*/_jsxDEV(ViewState, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(WeekView, {\n          startDayHour: 9,\n          endDayHour: 19,\n          timeTableCellComponent: TimeTableCell,\n          dayScaleCellComponent: DayScaleCell\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Toolbar, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(DateNavigator, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 205,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(TodayButton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 206,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(Appointments, {\n          appointmentComponent: Appointment\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(AppointmentTooltip, {\n          headerComponent: Header,\n          contentComponent: Content,\n          commandButtonComponent: CommandButton,\n          showCloseButton: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 210,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 193,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 191,\n    columnNumber: 9\n  }, this);\n}\n\n_s4(UserCalendar, \"XkQvQLxyhZOzycrP/qlMhkxv56k=\");\n\n_c = UserCalendar;\nexport default UserCalendar;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserCalendar\");","map":{"version":3,"sources":["C:/Users/jamie/Documents/Projects/COVID-Booking/COVID-Booking/client/src/components/calendar/UserCalendar.js"],"names":["Paper","ViewState","Scheduler","WeekView","Appointments","AppointmentTooltip","DateNavigator","TodayButton","Toolbar","makeStyles","fade","useState","useEffect","IconButton","AddIcon","Grid","Room","withStyles","UserCalendar","startingList","list","setList","callGET","fetch","then","res","json","data","catch","err","callEDIT","id","method","body","JSON","stringify","headers","console","log","useStyles","theme","today","backgroundColor","palette","primary","main","weekend","action","disabledBackground","todayCell","weekendCell","todayApp","borderRadius","style","icon","color","active","textCenter","textAlign","headerColor","header","height","backgroundSize","commandButton","DayScaleCell","props","startDate","getDay","TimeTableCell","date","Date","getDate","Appointment","children","restProps","Header","name","appointmentData","classes","_id","Content","location","notes","maxClassSize","CommandButton"],"mappings":";;;AAAA;AACA;AACA;AACA,OAAOA,KAAP,MAAkB,yBAAlB;AACA,SACIC,SADJ,QAEO,gCAFP;AAGA,SACIC,SADJ,EAEIC,QAFJ,EAGIC,YAHJ,EAIIC,kBAJJ,EAKIC,aALJ,EAMIC,WANJ,EAOIC,OAPJ,QAQO,4CARP;AASA,SAASC,UAAT,QAA2B,0BAA3B;AACA,SAASC,IAAT,QAAqB,2CAArB;AACA,SAAQC,QAAR,EAAkBC,SAAlB,QAAkC,OAAlC;AACA,OAAO,gBAAP;AAEA,OAAOC,UAAP,MAAuB,8BAAvB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,IAAP,MAAiB,wBAAjB;AACA,OAAOC,IAAP,MAAiB,yBAAjB;AACA,SAASC,UAAT,QAA2B,0BAA3B;;;AAGA,SAASC,YAAT,GAAwB;AAAA;;AAAA;AAAA;AAAA;;AAEpB;AACA,MAAIC,YAAY,GAAG,EAAnB;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBV,QAAQ,CAACQ,YAAD,CAAhC;;AAEA,iBAAeG,OAAf,GAAyB;AACrB,UAAMC,KAAK,CAAC,oCAAD,CAAL,CACDC,IADC,CACIC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EADX,EAEDF,IAFC,CAEIG,IAAI,IAAIR,YAAY,GAAGQ,IAF3B,EAGDC,KAHC,CAGKC,GAAG,IAAIA,GAHZ,CAAN;AAIH,GAXmB,CAapB;;;AACA,iBAAeC,QAAf,CAAwBC,EAAxB,EAA4B;AACxB,UAAMR,KAAK,CAAC,wCAAwCQ,EAAzC,EAA6C;AACpDC,MAAAA,MAAM,EAAE,OAD4C;AAEpDC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeJ,EAAf,CAF8C;AAGpDK,MAAAA,OAAO,EAAE;AACL,wBAAgB,kBADX;AAEL,qBAAa;AAFR;AAH2C,KAA7C,CAAL,CAOHZ,IAPG,CAOEG,IAAI,IAAIU,OAAO,CAACC,GAAR,CAAY,aAAZ,CAPV,EAQDV,KARC,CAQKC,GAAG,IAAIA,GARZ,CAAN;AASH;;AAEDjB,EAAAA,SAAS,CAAC,MAAK;AACXU,IAAAA,OAAO,GACFE,IADL,CACU,MAAMH,OAAO,CAACF,YAAD,CADvB,EAEKS,KAFL,CAEYC,GAAD,IAASA,GAFpB,EADW,CAIX;AACH,GALQ,EAKN,EALM,CAAT;AAOA;;AACA,QAAMU,SAAS,GAAG9B,UAAU,CAAC+B,KAAK,KAAK;AACnC;AACAC,IAAAA,KAAK,EAAE;AACHC,MAAAA,eAAe,EAAEhC,IAAI,CAAC8B,KAAK,CAACG,OAAN,CAAcC,OAAd,CAAsBC,IAAvB,EAA6B,IAA7B;AADlB,KAF4B;AAKnCC,IAAAA,OAAO,EAAE;AACLJ,MAAAA,eAAe,EAAEhC,IAAI,CAAC8B,KAAK,CAACG,OAAN,CAAcI,MAAd,CAAqBC,kBAAtB,EAA0C,IAA1C;AADhB,KAL0B;AAQnC;AACAC,IAAAA,SAAS,EAAE;AACPP,MAAAA,eAAe,EAAEhC,IAAI,CAAC8B,KAAK,CAACG,OAAN,CAAcC,OAAd,CAAsBC,IAAvB,EAA6B,GAA7B,CADd;AAEP,iBAAW;AACPH,QAAAA,eAAe,EAAEhC,IAAI,CAAC8B,KAAK,CAACG,OAAN,CAAcC,OAAd,CAAsBC,IAAvB,EAA6B,IAA7B;AADd,OAFJ;AAKP,iBAAW;AACPH,QAAAA,eAAe,EAAEhC,IAAI,CAAC8B,KAAK,CAACG,OAAN,CAAcC,OAAd,CAAsBC,IAAvB,EAA6B,IAA7B;AADd;AALJ,KATwB;AAkBnCK,IAAAA,WAAW,EAAE;AACTR,MAAAA,eAAe,EAAEhC,IAAI,CAAC8B,KAAK,CAACG,OAAN,CAAcI,MAAd,CAAqBC,kBAAtB,EAA0C,IAA1C,CADZ;AAET,iBAAW;AACPN,QAAAA,eAAe,EAAEhC,IAAI,CAAC8B,KAAK,CAACG,OAAN,CAAcI,MAAd,CAAqBC,kBAAtB,EAA0C,IAA1C;AADd,OAFF;AAKT,iBAAW;AACPN,QAAAA,eAAe,EAAEhC,IAAI,CAAC8B,KAAK,CAACG,OAAN,CAAcI,MAAd,CAAqBC,kBAAtB,EAA0C,IAA1C;AADd;AALF,KAlBsB;AA2BnC;AACAG,IAAAA,QAAQ,EAAE;AACNT,MAAAA,eAAe,EAAE,SADX;AAENU,MAAAA,YAAY,EAAE;AAFR;AA5ByB,GAAL,CAAN,CAA5B,CAlCoB,CAmEpB;;AACA,QAAMC,KAAK,GAAG,CAAC;AAAEV,IAAAA;AAAF,GAAD,MAAkB;AAC5BW,IAAAA,IAAI,EAAE;AACFC,MAAAA,KAAK,EAAEZ,OAAO,CAACI,MAAR,CAAeS;AADpB,KADsB;AAI5BC,IAAAA,UAAU,EAAE;AACRC,MAAAA,SAAS,EAAE;AADH,KAJgB;AAO5BC,IAAAA,WAAW,EAAE;AACTjB,MAAAA,eAAe,EAAE;AADR,KAPe;AAU5BkB,IAAAA,MAAM,EAAE;AACJC,MAAAA,MAAM,EAAE,OADJ;AAEJC,MAAAA,cAAc,EAAE;AAFZ,KAVoB;AAc5BC,IAAAA,aAAa,EAAE;AACXrB,MAAAA,eAAe,EAAE;AADN;AAda,GAAlB,CAAd,CApEoB,CAuFpB;;;AACA,QAAMsB,YAAY,GAAIC,KAAD,IAAW;AAAA;;AAC5B,UAAMZ,KAAK,GAAGd,SAAS,EAAvB;AACA,UAAM;AAAE2B,MAAAA,SAAF;AAAazB,MAAAA;AAAb,QAAuBwB,KAA7B;;AACA,QAAIxB,KAAJ,EAAW;AACP,0BAAO,QAAC,QAAD,CAAU,YAAV,OAA2BwB,KAA3B;AAAkC,QAAA,SAAS,EAAEZ,KAAK,CAACZ;AAAnD;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AAAC,QAAIyB,SAAS,CAACC,MAAV,OAAuB,CAAvB,IAA4BD,SAAS,CAACC,MAAV,OAAuB,CAAvD,EAA0D;AACxD,0BAAO,QAAC,QAAD,CAAU,YAAV,OAA2BF,KAA3B;AAAkC,QAAA,SAAS,EAAEZ,KAAK,CAACP;AAAnD;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AAAC,wBAAO,QAAC,QAAD,CAAU,YAAV,OAA2BmB;AAA3B;AAAA;AAAA;AAAA;AAAA,YAAP;AACL,GARD,CAxFoB,CAkGpB;;;AAlGoB,KAwFdD,YAxFc;AAAA,YAyFFzB,SAzFE;AAAA;;AAmGpB,QAAM6B,aAAa,GAAIH,KAAD,IAAW;AAAA;;AAC7B,UAAMZ,KAAK,GAAGd,SAAS,EAAvB;AACA,UAAM;AAAE2B,MAAAA;AAAF,QAAgBD,KAAtB;AACA,UAAMI,IAAI,GAAG,IAAIC,IAAJ,CAASJ,SAAT,CAAb;;AACA,QAAIG,IAAI,CAACE,OAAL,OAAmB,IAAID,IAAJ,GAAWC,OAAX,EAAvB,EAA6C;AACzC,0BAAO,QAAC,QAAD,CAAU,aAAV,OAA4BN,KAA5B;AAAmC,QAAA,SAAS,EAAEZ,KAAK,CAACJ;AAApD;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AAAC,QAAIoB,IAAI,CAACF,MAAL,OAAkB,CAAlB,IAAuBE,IAAI,CAACF,MAAL,OAAkB,CAA7C,EAAgD;AAC9C,0BAAO,QAAC,QAAD,CAAU,aAAV,OAA4BF,KAA5B;AAAmC,QAAA,SAAS,EAAEZ,KAAK,CAACH;AAApD;AAAA;AAAA;AAAA;AAAA,cAAP;AACH;;AAAC,wBAAO,QAAC,QAAD,CAAU,aAAV,OAA4Be;AAA5B;AAAA;AAAA;AAAA;AAAA,YAAP;AACL,GATD,CAnGoB,CA8GpB;;;AA9GoB,MAmGdG,aAnGc;AAAA,YAoGF7B,SApGE;AAAA;;AA+GpB,QAAMiC,WAAW,GAAG,CAAC;AAACC,IAAAA,QAAD;AAAWpB,IAAAA,KAAX;AAAkB,OAAGqB;AAArB,GAAD;AAAA;;AAAA,wBAChB,QAAC,YAAD,CAAc,WAAd,OAA8BA,SAA9B;AAAyC,MAAA,SAAS,EAAEnC,SAAS,GAAGY,QAAhE;AAAA,gBACKsB;AADL;AAAA;AAAA;AAAA;AAAA,YADgB;AAAA,GAApB;;AA/GoB,MA+GdD,WA/Gc;AAAA,YAgHoCjC,SAhHpC;AAAA;;AAqHpB,QAAMoC,MAAM,GAAG1D,UAAU,CAACoC,KAAD,EAAQ;AAAEuB,IAAAA,IAAI,EAAE;AAAR,GAAR,CAAV,CAAsC,CAAC;AAACH,IAAAA,QAAD;AAAWI,IAAAA,eAAX;AAA4BC,IAAAA,OAA5B;AAAqC,OAAGJ;AAAxC,GAAD,kBACjD,QAAC,kBAAD,CAAoB,MAApB,OACQA,SADR;AAEI,IAAA,SAAS,EAAEI,OAAO,CAACnB,WAFvB;AAGI,IAAA,eAAe,EAAEkB,eAHrB;AAAA,2BAKI,QAAC,UAAD;AACI,MAAA,OAAO,EAAE,MAAM/C,QAAQ,CAAC+C,eAAe,CAACE,GAAjB,CAD3B;AAEI,MAAA,SAAS,EAAED,OAAO,CAACf,aAFvB;AAAA,6BAII,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA;AAJJ;AAAA;AAAA;AAAA;AAAA;AALJ;AAAA;AAAA;AAAA;AAAA,UADW,CAAf;AAeA,QAAMiB,OAAO,GAAG/D,UAAU,CAACoC,KAAD,EAAQ;AAAEuB,IAAAA,IAAI,EAAE;AAAR,GAAR,CAAV,CAAuC,CAAC;AAACH,IAAAA,QAAD;AAAWI,IAAAA,eAAX;AAA4BC,IAAAA,OAA5B;AAAqC,OAAGJ;AAAxC,GAAD,kBACnD,QAAC,kBAAD,CAAoB,OAApB,OAAgCA,SAAhC;AAA2C,IAAA,eAAe,EAAEG,eAA5D;AAAA,2BACI,QAAC,IAAD;AAAM,MAAA,SAAS,MAAf;AAAgB,MAAA,UAAU,EAAC,QAA3B;AAAA,8BACI,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAkB,QAAA,SAAS,EAAEC,OAAO,CAACrB,UAArC;AAAA,+BACI,QAAC,IAAD;AAAM,UAAA,SAAS,EAAEqB,OAAO,CAACxB;AAAzB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cADJ,eAII,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA,+BACI;AAAA,oBAAOuB,eAAe,CAACI;AAAvB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAJJ,eAOI,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAkB,QAAA,SAAS,EAAEH,OAAO,CAACrB,UAArC;AAAA,+BACI,QAAC,IAAD;AAAM,UAAA,SAAS,EAAEqB,OAAO,CAACxB;AAAzB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAPJ,eAUI,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA,+BACI;AAAA,oBAAOuB,eAAe,CAACK;AAAvB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAVJ,eAaI,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,CAAf;AAAkB,QAAA,SAAS,EAAEJ,OAAO,CAACrB,UAArC;AAAA,+BACI,QAAC,IAAD;AAAM,UAAA,SAAS,EAAEqB,OAAO,CAACxB;AAAzB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAbJ,eAgBI,QAAC,IAAD;AAAM,QAAA,IAAI,MAAV;AAAW,QAAA,EAAE,EAAE,EAAf;AAAA,+BACI;AAAA,6BAAWuB,eAAe,CAACM,YAA3B;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,cAhBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,UADY,CAAhB;AAyBA,QAAMC,aAAa,GAAGnE,UAAU,CAACoC,KAAD,EAAQ;AAAEuB,IAAAA,IAAI,EAAE;AAAR,GAAR,CAAV,CAA6C,CAAC;AAACE,IAAAA,OAAD;AAAU,OAAGJ;AAAb,GAAD,kBAC/D,QAAC,kBAAD,CAAoB,aAApB,OAAsCA,SAAtC;AAAiD,IAAA,SAAS,EAAEI,OAAO,CAACf;AAApE;AAAA;AAAA;AAAA;AAAA,UADkB,CAAtB;AAIA,sBACI;AAAK,IAAA,EAAE,EAAC,YAAR;AAAA,2BACA,QAAC,KAAD;AAAO,MAAA,EAAE,EAAC,UAAV;AAAA,6BACI,QAAC,SAAD;AACI,QAAA,IAAI,EAAE3C,IADV;AAEI,QAAA,MAAM,EAAE,OAFZ;AAAA,gCAII,QAAC,SAAD;AAAA;AAAA;AAAA;AAAA,gBAJJ,eAKI,QAAC,QAAD;AACI,UAAA,YAAY,EAAE,CADlB;AAEI,UAAA,UAAU,EAAE,EAFhB;AAGI,UAAA,sBAAsB,EAAEgD,aAH5B;AAII,UAAA,qBAAqB,EAAEJ;AAJ3B;AAAA;AAAA;AAAA;AAAA,gBALJ,eAWI,QAAC,OAAD;AAAA;AAAA;AAAA;AAAA,gBAXJ,eAYI,QAAC,aAAD;AAAA;AAAA;AAAA;AAAA,gBAZJ,eAaI,QAAC,WAAD;AAAA;AAAA;AAAA;AAAA,gBAbJ,eAcI,QAAC,YAAD;AACI,UAAA,oBAAoB,EAAEQ;AAD1B;AAAA;AAAA;AAAA;AAAA,gBAdJ,eAiBI,QAAC,kBAAD;AACI,UAAA,eAAe,EAAEG,MADrB;AAEI,UAAA,gBAAgB,EAAEK,OAFtB;AAGI,UAAA,sBAAsB,EAAEI,aAH5B;AAII,UAAA,eAAe;AAJnB;AAAA;AAAA;AAAA;AAAA,gBAjBJ;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA,UADJ;AA8BH;;IA/LQlE,Y;;KAAAA,Y;AAiMT,eAAeA,YAAf","sourcesContent":["/*\r\n    Calendar component adapted from: https://devexpress.github.io/devextreme-reactive/react/scheduler/\r\n */\r\nimport Paper from '@material-ui/core/Paper';\r\nimport {\r\n    ViewState,\r\n} from '@devexpress/dx-react-scheduler';\r\nimport {\r\n    Scheduler,\r\n    WeekView,\r\n    Appointments,\r\n    AppointmentTooltip,\r\n    DateNavigator,\r\n    TodayButton,\r\n    Toolbar,\r\n} from '@devexpress/dx-react-scheduler-material-ui';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport { fade } from '@material-ui/core/styles/colorManipulator';\r\nimport {useState, useEffect} from \"react\";\r\nimport './Calendar.css'\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport Room from '@material-ui/icons/Room';\r\nimport { withStyles } from '@material-ui/core/styles';\r\n\r\n\r\nfunction UserCalendar() {\r\n\r\n    /* ----------- SERVER FUNCTIONS ----------- */\r\n    let startingList = [];\r\n    const [list, setList] = useState(startingList);\r\n\r\n    async function callGET() {\r\n        await fetch(\"http://rec-center-booking/user-cal\")\r\n            .then(res => res.json())\r\n            .then(data => startingList = data)\r\n            .catch(err => err);\r\n    }\r\n\r\n    // TODO: implement once route is established\r\n    async function callEDIT(id) {\r\n        await fetch('http://rec-center-booking/user-cal/' + id, {\r\n            method: 'PATCH',\r\n            body: JSON.stringify(id),\r\n            headers: {\r\n                'Content-Type': 'application/json',\r\n                'x-Trigger': 'CORS'\r\n            }\r\n        }).then(data => console.log('Edited card'))\r\n            .catch(err => err);\r\n    }\r\n\r\n    useEffect(() =>{\r\n        callGET()\r\n            .then(() => setList(startingList))\r\n            .catch((err) => err);\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    /* ----------- STYLE AND COMPONENTS ----------- */\r\n    const useStyles = makeStyles(theme => ({\r\n        // DayScaleCell styling\r\n        today: {\r\n            backgroundColor: fade(theme.palette.primary.main, 0.16),\r\n        },\r\n        weekend: {\r\n            backgroundColor: fade(theme.palette.action.disabledBackground, 0.06),\r\n        },\r\n        // TimeTableCell styling\r\n        todayCell: {\r\n            backgroundColor: fade(theme.palette.primary.main, 0.1),\r\n            '&:hover': {\r\n                backgroundColor: fade(theme.palette.primary.main, 0.14),\r\n            },\r\n            '&:focus': {\r\n                backgroundColor: fade(theme.palette.primary.main, 0.16),\r\n            },\r\n        },\r\n        weekendCell: {\r\n            backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\r\n            '&:hover': {\r\n                backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\r\n            },\r\n            '&:focus': {\r\n                backgroundColor: fade(theme.palette.action.disabledBackground, 0.04),\r\n            },\r\n        },\r\n        // Appointment styling\r\n        todayApp: {\r\n            backgroundColor: '#558d60',\r\n            borderRadius: '8px'\r\n        }\r\n    }));\r\n    // Tooltip styling\r\n    const style = ({ palette }) => ({\r\n        icon: {\r\n            color: palette.action.active,\r\n        },\r\n        textCenter: {\r\n            textAlign: 'center',\r\n        },\r\n        headerColor: {\r\n            backgroundColor: '#558d60',\r\n        },\r\n        header: {\r\n            height: '260px',\r\n            backgroundSize: 'cover',\r\n        },\r\n        commandButton: {\r\n            backgroundColor: '#96cfa9',\r\n        },\r\n    });\r\n\r\n    // Calendar's top date bar\r\n    const DayScaleCell = (props) => {\r\n        const style = useStyles();\r\n        const { startDate, today } = props;\r\n        if (today) {\r\n            return <WeekView.DayScaleCell {...props} className={style.today} />;\r\n        } if (startDate.getDay() === 0 || startDate.getDay() === 6) {\r\n            return <WeekView.DayScaleCell {...props} className={style.weekend} />;\r\n        } return <WeekView.DayScaleCell {...props} />;\r\n    };\r\n\r\n    // Calendar's timeslots\r\n    const TimeTableCell = (props) => {\r\n        const style = useStyles();\r\n        const { startDate } = props;\r\n        const date = new Date(startDate);\r\n        if (date.getDate() === new Date().getDate()) {\r\n            return <WeekView.TimeTableCell {...props} className={style.todayCell} />;\r\n        } if (date.getDay() === 0 || date.getDay() === 6) {\r\n            return <WeekView.TimeTableCell {...props} className={style.weekendCell} />;\r\n        } return <WeekView.TimeTableCell {...props} />;\r\n    };\r\n\r\n    // Appointments\r\n    const Appointment = ({children, style, ...restProps}) => (\r\n        <Appointments.Appointment {...restProps} className={useStyles().todayApp} >\r\n            {children}\r\n        </Appointments.Appointment>\r\n    );\r\n\r\n    const Header = withStyles(style, { name: 'Header' })(({children, appointmentData, classes, ...restProps}) => (\r\n        <AppointmentTooltip.Header\r\n            {...restProps}\r\n            className={classes.headerColor}\r\n            appointmentData={appointmentData}\r\n        >\r\n            <IconButton\r\n                onClick={() => callEDIT(appointmentData._id)}\r\n                className={classes.commandButton}\r\n            >\r\n                <AddIcon />\r\n            </IconButton>\r\n        </AppointmentTooltip.Header>\r\n    ));\r\n\r\n    const Content = withStyles(style, { name: 'Content' })(({children, appointmentData, classes, ...restProps}) => (\r\n        <AppointmentTooltip.Content {...restProps} appointmentData={appointmentData}>\r\n            <Grid container alignItems=\"center\">\r\n                <Grid item xs={2} className={classes.textCenter}>\r\n                    <Room className={classes.icon} />\r\n                </Grid>\r\n                <Grid item xs={10}>\r\n                    <span>{appointmentData.location}</span>\r\n                </Grid>\r\n                <Grid item xs={2} className={classes.textCenter}>\r\n                    <Room className={classes.icon} />\r\n                </Grid>\r\n                <Grid item xs={10}>\r\n                    <span>{appointmentData.notes}</span>\r\n                </Grid>\r\n                <Grid item xs={2} className={classes.textCenter}>\r\n                    <Room className={classes.icon} />\r\n                </Grid>\r\n                <Grid item xs={10}>\r\n                    <span>Max {appointmentData.maxClassSize} people in the class.</span>\r\n                </Grid>\r\n            </Grid>\r\n        </AppointmentTooltip.Content>\r\n    ));\r\n\r\n    const CommandButton = withStyles(style, { name: 'CommandButton' })(({classes, ...restProps}) => (\r\n        <AppointmentTooltip.CommandButton {...restProps} className={classes.commandButton} />\r\n    ));\r\n\r\n    return (\r\n        <div id='main-panel'>\r\n        <Paper id='calendar'>\r\n            <Scheduler\r\n                data={list}\r\n                locale={\"en-US\"}\r\n            >\r\n                <ViewState />\r\n                <WeekView\r\n                    startDayHour={9}\r\n                    endDayHour={19}\r\n                    timeTableCellComponent={TimeTableCell}\r\n                    dayScaleCellComponent={DayScaleCell}\r\n                />\r\n                <Toolbar />\r\n                <DateNavigator />\r\n                <TodayButton />\r\n                <Appointments\r\n                    appointmentComponent={Appointment}\r\n                />\r\n                <AppointmentTooltip\r\n                    headerComponent={Header}\r\n                    contentComponent={Content}\r\n                    commandButtonComponent={CommandButton}\r\n                    showCloseButton\r\n                />\r\n            </Scheduler>\r\n        </Paper>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default UserCalendar;"]},"metadata":{},"sourceType":"module"}